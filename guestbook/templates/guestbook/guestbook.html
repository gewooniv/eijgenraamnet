{% extends "base.html" %}
{% load static %}
{% load commenttags %}

{% block title %}
    Contact - Eijgenraam.net
{% endblock %}

{% block css_files %}
    <link rel='stylesheet' href="{% static 'guestbook/index.css' %}">
{% endblock %}

{% block content %}
    <section id='welcome'>
        <header>
                        
        </header>
    </section>

    <section id='comment-form'>
        <h3>Laat iets achter in ons gastenboek:</h3>
        <form action='{% url 'guestbook' %}' method='POST'>
            {% csrf_token %}
            {% for form_field in comment_form %}
                <div class='form-control'>
                    {{ form_field.label_tag }}
                    {{ form_field }}
                    {{ form_field.errors }}
                </div>
            {% endfor %}
            <button type='submit'>Verzend reactie</button>
        </form>
    </section>
    
    {% for comment in all_comments %}
        <section id='comment-form'>
            <div class='comment'>
                <div>{{ comment.username }}, {{ comment.date }}</div>
                <div>{{ comment.text }}</div>
            </div>  
        </section>
        {% if comment|has_response:all_responses %}
        <section id='response'>
            {% for response in all_responses|in_comment:comment %}
                <div>
                    <div>{{ response.username }}, {{ response.date }}</div>
                    <div>{{ response.text }}</div>
                </div>
            {% endfor %}
        </section>
        {% endif %}
    {% endfor %}

{% endblock %}